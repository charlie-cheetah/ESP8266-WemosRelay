(function(e){function t(t){for(var a,r,c=t[0],l=t[1],o=t[2],d=0,v=[];d<c.length;d++)r=c[d],Object.prototype.hasOwnProperty.call(s,r)&&s[r]&&v.push(s[r][0]),s[r]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);u&&u(t);while(v.length)v.shift()();return i.push.apply(i,o||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],a=!0,c=1;c<n.length;c++){var l=n[c];0!==s[l]&&(a=!1)}a&&(i.splice(t--,1),e=r(r.s=n[0]))}return e}var a={},s={app:0},i=[];function r(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=a,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=t,c=c.slice();for(var o=0;o<c.length;o++)t(c[o]);var u=l;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),s=n("8c4f"),i=n("b408"),r=n.n(i),c=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("v-app",{attrs:{id:"inspire"}},[n("v-navigation-drawer",{attrs:{app:"",clipped:""},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[n("v-list",{attrs:{dense:""}},e._l(e.items,(function(t){return n("v-list-item",{key:t.text,on:{click:function(n){return e.goto(t.location)}}},[n("v-list-item-action",[n("v-icon",[e._v(e._s(t.icon))])],1),n("v-list-item-content",[n("v-list-item-title",[e._v(" "+e._s(t.text)+" ")])],1)],1)})),1)],1),n("v-app-bar",{attrs:{app:"","clipped-left":"",color:"red",dense:""}},[n("v-app-bar-nav-icon",{on:{click:function(t){t.stopPropagation(),e.drawer=!e.drawer}}}),n("v-toolbar-title",{staticClass:"mr-5 align-center"},[n("span",{staticClass:"title"},[e._v("Charlie's Wifi - ArtNet - DMX gateway")])])],1),n("v-content",[n("router-view")],1)],1)],1)},l=[],o={name:"app",components:{},data:function(){return{drawer:null,items:[{icon:"mdi-home",text:"Home",location:"/"},{icon:"mdi-floor-lamp-variant",text:"Laser",location:"/laser"},{icon:"mdi-cogs",text:"Configuration",location:"/configuration"}]}},methods:{goto:function(e){this.$router.push(e)}}},u=o,d=n("2877"),v=n("6544"),h=n.n(v),p=n("7496"),m=n("40dc"),f=n("5bc1"),b=n("a75b"),_=n("132d"),g=n("8860"),x=n("da13"),k=n("1800"),y=n("5d23"),S=n("f774"),w=n("2a7f"),q=Object(d["a"])(u,c,l,!1,null,null,null),C=q.exports;h()(q,{VApp:p["a"],VAppBar:m["a"],VAppBarNavIcon:f["a"],VContent:b["a"],VIcon:_["a"],VList:g["a"],VListItem:x["a"],VListItemAction:k["a"],VListItemContent:y["a"],VListItemTitle:y["b"],VNavigationDrawer:S["a"],VToolbarTitle:w["a"]});var P=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",{attrs:{"fill-height":""}},[n("v-layout",{attrs:{"justify-center":"","align-center":""}},[e._v(" Home ")])],1)},V=[],N={name:"Home"},D=N,O=n("a523"),$=n("a722"),T=Object(d["a"])(D,P,V,!1,null,"8cc7985e",null),j=T.exports;h()(T,{VContainer:O["a"],VLayout:$["a"]});var E=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",{attrs:{"fill-height":""}},[n("v-layout",{staticClass:"flex-column"},[n("h1",{staticClass:"subtitle"},[e._v("Laser")]),n("v-switch",{attrs:{label:e.switch1?"On":"Off"},on:{change:e.switchRelay},model:{value:e.switch1,callback:function(t){e.switch1=t},expression:"switch1"}}),n("v-select",{attrs:{items:e.ch1presets,"item-text":"name","item-value":"id"},on:{input:e.sendData},model:{value:e.ch1,callback:function(t){e.ch1=t},expression:"ch1"}}),n("b-slider",{attrs:{label:"Pattern","thumb-label":"",max:255},on:{input:e.sendData,change:e.sendData},model:{value:e.ch2,callback:function(t){e.ch2=t},expression:"ch2"}}),n("b-slider",{attrs:{label:"Rotation",max:255},on:{input:e.sendData,change:e.sendData},model:{value:e.ch3,callback:function(t){e.ch3=t},expression:"ch3"}},[n("b-slider-tick",{attrs:{value:0}},[e._v("Angle")]),n("b-slider-tick",{attrs:{value:128}},[e._v("Speed clockwise")]),n("b-slider-tick",{attrs:{value:192}},[e._v("Speed counterclockwise")])],1),n("b-slider",{attrs:{label:"Flip horizontal",max:255},on:{input:e.sendData,change:e.sendData},model:{value:e.ch4,callback:function(t){e.ch4=t},expression:"ch4"}},[n("b-slider-tick",{attrs:{value:0}},[e._v("Angle")]),n("b-slider-tick",{attrs:{value:128}},[e._v("Speed")])],1),n("b-slider",{attrs:{label:"Flip vertical",max:255},on:{input:e.sendData,change:e.sendData},model:{value:e.ch5,callback:function(t){e.ch5=t},expression:"ch5"}},[n("b-slider-tick",{attrs:{value:0}},[e._v("Angle")]),n("b-slider-tick",{attrs:{value:128}},[e._v("Speed")])],1),n("b-slider",{attrs:{label:"Position vertical",max:255},on:{input:e.sendData,change:e.sendData},model:{value:e.ch6,callback:function(t){e.ch6=t},expression:"ch6"}},[n("b-slider-tick",{attrs:{value:0}},[e._v("Position")]),n("b-slider-tick",{attrs:{value:128}},[e._v("Speed")])],1),n("b-slider",{attrs:{label:"Position horizontal",max:255},on:{input:e.sendData,change:e.sendData},model:{value:e.ch7,callback:function(t){e.ch7=t},expression:"ch7"}},[n("b-slider-tick",{attrs:{value:0}},[e._v("Position")]),n("b-slider-tick",{attrs:{value:128}},[e._v("Speed")])],1),n("b-slider",{attrs:{label:"Size",max:255},on:{input:e.sendData,change:e.sendData},model:{value:e.ch8,callback:function(t){e.ch8=t},expression:"ch8"}},[n("b-slider-tick",{attrs:{value:0}},[e._v("Fixed")]),n("b-slider-tick",{attrs:{value:64}},[e._v("Ascending speed")]),n("b-slider-tick",{attrs:{value:128}},[e._v("Descending speed")]),n("b-slider-tick",{attrs:{value:192}},[e._v("Scaling speed")])],1),n("b-slider",{attrs:{label:"Color",max:255},on:{input:e.sendData,change:e.sendData},model:{value:e.ch9,callback:function(t){e.ch9=t},expression:"ch9"}},[n("b-slider-tick",{attrs:{value:0}},[e._v("Purple")]),n("b-slider-tick",{attrs:{value:20}},[e._v("Red")]),n("b-slider-tick",{attrs:{value:40}},[e._v("Purple")]),n("b-slider-tick",{attrs:{value:60}},[e._v("Purple")]),n("b-slider-tick",{attrs:{value:80}},[e._v("Purple")]),n("b-slider-tick",{attrs:{value:100}},[e._v("Purple")]),n("b-slider-tick",{attrs:{value:120}},[e._v("Purple")]),n("b-slider-tick",{attrs:{value:128}},[e._v("Cycle speed")])],1),n("v-btn",{staticClass:"mt-8",attrs:{color:"primary",disabled:null===e.currentSequence},on:{click:e.addPreset}},[e._v("Add to sequence")]),n("v-card",{staticClass:"mt-2"},[n("v-card-text",[n("div",{staticClass:"d-flex flex-wrap"},[n("span",{staticClass:"pa-2"},[e._v("Sequences:")]),e._l(e.sequences,(function(t,a){return n("div",{key:"seq"+a,staticClass:"mr-2 mb-2"},[a===e.currentSequence?n("v-btn",{attrs:{color:"teal"}},[e._v(e._s(t.name)+" ("+e._s(t.presets.length)+")")]):n("v-btn",{on:{click:function(t){return e.changeSequence(a)}}},[e._v(e._s(t.name)+" ("+e._s(t.presets.length)+")")])],1)})),n("v-btn",{on:{click:e.addNewSequence}},[e._v("+")])],2),e.rename?n("div",[n("v-text-field",{attrs:{label:"Name"},on:{change:e.renameSequence},model:{value:e.sequenceName,callback:function(t){e.sequenceName=t},expression:"sequenceName"}})],1):e._e()]),n("v-card-actions",{staticClass:"flex-wrap"},[n("v-btn",{staticClass:"mb-2",attrs:{color:"primary",small:""},on:{click:e.saveStorage}},[e._v("Save to storage")]),n("v-btn",{staticClass:"mb-2",attrs:{color:"primary",small:"",disabled:null===e.currentSequence},on:{click:e.enableSequenceRename}},[e._v("Rename sequence")]),n("v-btn",{staticClass:"mb-2",attrs:{color:"error",small:"",disabled:null===e.currentSequence},on:{click:e.deleteSequence}},[e._v("Delete sequence")])],1)],1),n("v-row",[null!==e.currentSequence?n("v-col",e._l(e.sequences[e.currentSequence].presets,(function(t,a){return n("div",{key:"pre"+a,staticClass:"d-flex justify-space-between pa-2 elevation-4 mb-2",class:a===e.currentPreset?"teal":"secondary",on:{click:function(t){return e.selectPreset(a)}}},[n("v-chip",{attrs:{color:1===t.values[0]?"error":"orange"}},[e._v(" "+e._s(1===t.values[0]?"Off":"")+" "+e._s(100===t.values[0]?"M":"")+" ")]),n("div",[e._v(e._s(t.values[1]))]),n("v-chip",{attrs:{color:"orange"}},[n("v-icon",[e._v("mdi-rotate-left")]),e._v(e._s(t.values[2]))],1),n("v-chip",{attrs:{color:"orange"}},[n("v-icon",[e._v("mdi-arrow-expand-vertical")]),e._v(e._s(t.values[3]))],1),n("v-chip",{attrs:{color:"orange"}},[n("v-icon",[e._v("mdi-arrow-expand-horizontal")]),e._v(e._s(t.values[4]))],1),n("v-chip",{attrs:{color:"orange"}},[n("v-icon",[e._v("mdi-swap-vertical")]),e._v(e._s(t.values[5]))],1),n("v-chip",{attrs:{color:"orange"}},[n("v-icon",[e._v("mdi-swap-horizontal")]),e._v(e._s(t.values[6]))],1),n("v-chip",{attrs:{color:"orange"}},[n("v-icon",[e._v("mdi-arrow-expand-all")]),e._v(e._s(t.values[6]))],1),n("v-chip",{attrs:{color:"orange"}},[n("v-icon",[e._v("mdi-palette")]),e._v(e._s(t.values[6]))],1),n("v-btn",{attrs:{color:"error"},on:{click:function(t){return t.stopPropagation(),e.removePreset(a)}}},[e._v("delete")])],1)})),0):e._e(),n("v-col",[n("v-card",{staticClass:"mx-auto"},[n("v-toolbar",{attrs:{flat:"",dense:""}},[n("v-toolbar-title",[n("span",{staticClass:"subheading"},[e._v("METRONOME")])])],1),n("v-card-text",[n("v-row",{staticClass:"mb-4",attrs:{justify:"space-between"}},[n("v-col",{staticClass:"text-left"},[n("span",{staticClass:"display-3 font-weight-light",domProps:{textContent:e._s(e.bpm)}}),n("span",{staticClass:"subheading font-weight-light mr-1"},[e._v("BPM")])]),n("v-col",{staticClass:"text-right"},[n("v-btn",{attrs:{color:"primary",dark:"",depressed:"",fab:""},on:{click:e.toggle}},[n("v-icon",{attrs:{large:""}},[e._v(e._s(e.isPlaying?"mdi-pause":"mdi-play"))])],1)],1)],1),n("v-slider",{attrs:{color:"primary","track-color":"grey","always-dirty":"",min:"40",max:"218"},scopedSlots:e._u([{key:"prepend",fn:function(){return[n("v-icon",{on:{click:e.decrement}},[e._v("mdi-minus")])]},proxy:!0},{key:"append",fn:function(){return[n("v-icon",{on:{click:e.increment}},[e._v("mdi-plus")])]},proxy:!0}]),model:{value:e.bpm,callback:function(t){e.bpm=t},expression:"bpm"}})],1)],1)],1)],1)],1)],1)},L=[],A=(n("a434"),n("ace4"),n("b0c0"),n("d3b7"),n("e25e"),n("3ca3"),n("5cc6"),n("9a8c"),n("a975"),n("735e"),n("c1ac"),n("d139"),n("3a7b"),n("d5d6"),n("20bf"),n("82f8"),n("e91f"),n("60bd"),n("5f96"),n("3280"),n("3fcc"),n("ca91"),n("25a1"),n("cd26"),n("3c5d"),n("2954"),n("649e"),n("219c"),n("170b"),n("b39a9"),n("72f7"),n("ddb0"),n("2b3d"),n("2ef0")),M=n.n(A),R=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"b-slider"},[e._v(" "+e._s(e.label)+" "),n("div",{ref:"slider",staticClass:"b-slider-track"},[n("input",{staticClass:"b-slider-fill",attrs:{type:"range",max:e.max},domProps:{value:e.value},on:{input:function(t){return e.updateValue(t.target.value)},change:function(t){return e.updateValue(t.target.value)}}}),e._t("default")],2)])},I=[],B=(n("a9e3"),n("2fa7")),U=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"b-slider-tick",class:{"is-tick-hidden":e.hidden},style:e.getTickStyle(e.position)},[e.$slots.default?n("span",{staticClass:"b-slider-tick-label"},[e._t("default")],2):e._e()])},z=[],F={name:"BSliderTick",props:{value:{type:Number,default:0}},computed:{position:function(){var e=(this.value-this.$parent.min)/(this.$parent.max-this.$parent.min)*100;return e>=0&&e<=100?e:0},hidden:function(){return this.value===this.$parent.min||this.value===this.$parent.max}},methods:{getTickStyle:function(e){return{left:e+"%"}}},created:function(){if(!this.$parent.$data.isSlider)throw this.$destroy(),new Error("You should wrap bSliderTick on a bSlider")}},J=F,H=Object(d["a"])(J,U,z,!1,null,null,null),W=H.exports,X={name:"BSlider",components:Object(B["a"])({},W.name,W),props:{value:{type:Number,default:0},label:String,min:{type:Number,default:0},max:{type:Number,default:100}},data:function(){return{isSlider:!0}},computed:{},watch:{},methods:{updateValue:function(e){this.$emit("input",parseInt(e))}},created:function(){}},Y=X,G=(n("6afe"),Object(d["a"])(Y,R,I,!1,null,null,null)),K=G.exports,Q={name:"Laser",components:{BSlider:K,BSliderTick:W},data:function(){return{switch1:!1,response:"",ch1:1,ch2:0,ch3:0,ch4:0,ch5:0,ch6:0,ch7:0,ch8:0,ch9:0,rename:!1,sequenceName:"unnamed",ch1presets:[{id:1,name:"Off"},{id:100,name:"Manual"},{id:150,name:"Auto"},{id:220,name:"Auto - Sound"}],currentSequence:null,currentPreset:null,sequences:[{name:"unnamed",presets:[{values:[1,0,0,0,0,0,0,0]},{values:[1,0,0,0,0,0,0,0]}]}],bpm:40,metronome:null,isPlaying:!1}},mounted:function(){this.$connect("ws://"+this.$location+"/ws");var e=localStorage.getItem("sequences");null!==e&&(this.sequences=JSON.parse(localStorage.getItem("sequences")))},computed:{animationDuration:function(){return"".concat(60/this.bpm,"s")}},methods:{decrement:function(){this.bpm--},increment:function(){this.bpm++},toggle:function(){this.isPlaying=!this.isPlaying,this.isPlaying?(this.metronome=new window.Metronome(this.bpm,100),this.metronome.start()):this.metronome.stop()},saveStorage:function(){localStorage.setItem("sequences",JSON.stringify(this.sequences))},enableSequenceRename:function(){this.rename=!0,this.sequenceName=this.sequences[this.currentSequence].name},renameSequence:function(e){this.sequences[this.currentSequence].name=e,this.rename=!1},addPreset:function(){this.sequences[this.currentSequence].presets.splice(this.currentPreset,0,{values:[this.ch1,this.ch2,this.ch3,this.ch4,this.ch5,this.ch6,this.ch7,this.ch8]})},addNewSequence:function(){this.sequences.push({name:"unnamed",presets:[]})},changeSequence:function(e){this.currentSequence=e,this.rename=!1},removePreset:function(e){this.currentPreset>0?this.currentPreset--:this.currentPreset=null,this.sequences[this.currentSequence].presets.splice(e,1)},selectPreset:function(e){for(var t in this.currentPreset=e,this.sequences[this.currentSequence].presets[e].values)this["ch"+(parseInt(t)+1)]=this.sequences[this.currentSequence].presets[e].values[t];this.sendData()},deleteSequence:function(){var e=this.currentSequence;this.currentSequence>0?this.currentSequence--:this.currentSequence=null,this.sequences.splice(e,1)},switchRelay:function(){this.switch1?this.turnOn():this.turnOff()},turnOn:function(){var e=new URL("http://"+this.$location+"/relayon");fetch(e,{mode:"no-cors"})},turnOff:function(){var e=new URL("http://"+this.$location+"/relayoff");fetch(e,{mode:"no-cors"})},sendData:function(){this.$socket.readyState===WebSocket.OPEN&&this.sendThrottled()},sendThrottled:M.a.throttle((function(){var e=[this.ch1,this.ch2,this.ch3,this.ch4,this.ch5,this.ch6,this.ch7,this.ch8,this.ch9],t=Uint8Array.from(e);this.$socket&&this.$socket.send(t)}),25)}},Z=Q,ee=(n("643d"),n("8336")),te=n("b0af"),ne=n("99d9"),ae=n("cc20"),se=n("62ad"),ie=n("0fd9"),re=n("b974"),ce=n("ba0d"),le=n("b73d"),oe=n("8654"),ue=n("71d9"),de=Object(d["a"])(Z,E,L,!1,null,"69b7f394",null),ve=de.exports;h()(de,{VBtn:ee["a"],VCard:te["a"],VCardActions:ne["a"],VCardText:ne["b"],VChip:ae["a"],VCol:se["a"],VContainer:O["a"],VIcon:_["a"],VLayout:$["a"],VRow:ie["a"],VSelect:re["a"],VSlider:ce["a"],VSwitch:le["a"],VTextField:oe["a"],VToolbar:ue["a"],VToolbarTitle:w["a"]});var he=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[n("h1",{staticClass:"subtitle"},[e._v("Configuration")]),n("v-text-field",{attrs:{label:"Device Name"},model:{value:e.deviceName,callback:function(t){e.deviceName=t},expression:"deviceName"}}),n("v-text-field",{attrs:{label:"Long device Name"},model:{value:e.longDeviceName,callback:function(t){e.longDeviceName=t},expression:"longDeviceName"}}),n("v-text-field",{attrs:{label:"Universe",type:"number"},model:{value:e.universe,callback:function(t){e.universe=t},expression:"universe"}}),n("v-text-field",{attrs:{label:"Starting channel",type:"number"},model:{value:e.startingChannel,callback:function(t){e.startingChannel=t},expression:"startingChannel"}}),n("v-switch",{attrs:{label:"DMX enabled"},model:{value:e.dmxEnabled,callback:function(t){e.dmxEnabled=t},expression:"dmxEnabled"}}),n("v-btn",{attrs:{color:"primary"},on:{click:e.saveSettings}},[e._v("Save settings")])],1)},pe=[],me={name:"Configuration",data:function(){return{deviceName:"",longDeviceName:"",universe:1,startingChannel:0,dmxEnabled:!0}},mounted:function(){var e=new URL("http://"+this.$location+"/info");fetch(e,{}).then(function(e){200===e.status&&e.json().then(function(e){"undefined"!==typeof e.device_name&&(this.deviceName=e.device_name),"undefined"!==typeof e.long_device_name&&(this.longDeviceName=e.long_device_name),"undefined"!==typeof e.universe&&(this.universe=e.universe),"undefined"!==typeof e.starting_channel&&(this.startingChannel=e.starting_channel),"undefined"!==typeof e.dmx_enabled&&(this.dmxEnabled=e.dmx_enabled)}.bind(this))}.bind(this))},methods:{saveSettings:function(){var e=new URL("http://"+this.$location+"/settings");e.searchParams.append("deviceName",this.deviceName),e.searchParams.append("longDeviceName",this.longDeviceName),e.searchParams.append("universe",this.universe),e.searchParams.append("startingChannel",this.startingChannel),e.searchParams.append("dmxEnabled",this.dmxEnabled),fetch(e,{method:"POST"})}}},fe=me,be=Object(d["a"])(fe,he,pe,!1,null,"d1280eaa",null),_e=be.exports;h()(be,{VBtn:ee["a"],VSwitch:le["a"],VTextField:oe["a"]});var ge=n("f309"),xe=n("8807"),ke=n.n(xe);a["a"].use(ge["a"]);var ye=new ge["a"]({lang:{locales:{pl:ke.a},current:"pl"},theme:{dark:!0}});a["a"].config.productionTip=!1,a["a"].use(s["a"]),a["a"].prototype.$location=window.location.host,a["a"].use(r.a,"ws://"+window.location.host+"/ws",{connectManually:!0,reconnection:!0});var Se=[{path:"/",component:j},{path:"/laser",component:ve},{path:"/configuration",component:_e}],we=new s["a"]({routes:Se});new a["a"]({router:we,vuetify:ye,render:function(e){return e(C)}}).$mount("#app")},"643d":function(e,t,n){"use strict";var a=n("a2a2"),s=n.n(a);s.a},"6afe":function(e,t,n){"use strict";var a=n("a1d8"),s=n.n(a);s.a},a1d8:function(e,t,n){},a2a2:function(e,t,n){}});
//# sourceMappingURL=app.9b34ce30.js.map